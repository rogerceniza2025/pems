# ==========================================
# Environment Configuration Template
# ==========================================
# Copy this file to .env and customize for your environment
# Environment-specific files will be loaded automatically:
# - .env.development for development
# - .env.production for production
# - .env.test for testing
# - .env.staging for staging

# Your Jira instance URL (no trailing slash)
JIRA_URL=https://rogerceniza2024.atlassian.net

# Your Jira account email address
JIRA_EMAIL=rogerceniza2024@gmail.com

# Your Jira API token (get from https://id.atlassian.com/manage-profile/security/api-tokens)
JIRA_API_TOKEN=ATATT3xFfGF00u0TsM9G4ZyjWSCKr33ClY3fH7i4SpmyRJAjBE7RPtgc6Li7ynLbxjkCYv2AaSlgaLD8XN3HeYA-FRUdiX-dzKLEz7F4WO1xkf8eWwDzxJz_iyv77PBwAtB5aq0z8ZqfkJ7JJipe0GiJviZKhaSmiIumDKWam9MEDBXWdwusKyY=78B6B236
# Your Jira project key
JIRA_PROJECT_KEY=PO

# ==========================================
# Core Configuration
# ==========================================
NODE_ENV=development
PORT=3000
HOST=localhost

# ==========================================
# Docker Configuration
# ==========================================
# Enable Docker services (true/false)
ENABLE_DOCKER=true
# Docker Compose profiles (tools, monitoring, etc.)
DOCKER_PROFILES=tools

# ==========================================
# Development Tools Configuration
# ==========================================
# PgAdmin (Docker)
PGADMIN_EMAIL=admin@schoolmanagement.com
PGADMIN_PASSWORD=admin

# ==========================================
# Database Configuration
# ==========================================
# Full database URL (takes precedence over individual settings)
DATABASE_URL=postgresql://postgres:P@ssw0rd@localhost:5432/pems_dev

# Individual database settings (used if DATABASE_URL is not set)
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=pems_dev
DATABASE_USER=postgres
DATABASE_PASSWORD=P@ssw0rd

# Database Pool Configuration
DATABASE_POOL_MAX=20
DATABASE_POOL_IDLE_TIMEOUT=30
DATABASE_POOL_CONNECT_TIMEOUT=10
DATABASE_POOL_RETRY_ATTEMPTS=3
DATABASE_POOL_RETRY_DELAY=1000

# ==========================================
# Prisma Configuration
# ==========================================
# Shadow database for Prisma migrations (development)
SHADOW_DATABASE_URL=postgresql://postgres:P@ssw0rd@localhost:5432/pems_dev_shadow

# Prisma Client Generation Options
PRISMA_GENERATE_DATAPROXY=false

# Binary targets for Prisma Client (leave empty for auto-detection)
PRISMA_BINARY_TARGETS=""

# ==========================================
# Authentication & Security
# ==========================================
# JWT Configuration (minimum 32 characters in production)
JWT_SECRET=dev-jwt-secret-32-chars-minimum-length
SESSION_SECRET=dev-session-secret-32-chars-minimum-length

# BetterAuth Configuration
BETTER_AUTH_SECRET=dev-better-auth-secret-32-chars-minimum-length
BETTER_AUTH_URL=http://localhost:3000
BETTER_AUTH_TRUST_ORIGIN=http://localhost:3000

# Password Encryption (higher rounds = more secure but slower)
BCRYPT_ROUNDS=12

# ==========================================
# Redis Configuration
# ==========================================
# Full Redis URL (takes precedence over individual settings)
REDIS_URL=redis://localhost:6379

# Individual Redis settings (used if REDIS_URL is not set)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password
REDIS_DB=0

# Redis Cache Configuration
REDIS_KEY_PREFIX=school_mgmt:
REDIS_TTL_DEFAULT=300        # 5 minutes
REDIS_TTL_SESSION=1800       # 30 minutes
REDIS_TTL_CACHE=3600         # 1 hour
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# ==========================================
# Email Configuration
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password_here
EMAIL_FROM=noreply@carmen.local

# ==========================================
# API Configuration
# ==========================================
# CORS Origins (comma-separated list)
CORS_ORIGIN=http://localhost:3000

# Rate Limiting
API_RATE_LIMIT_REQUESTS=1000
API_RATE_LIMIT_WINDOW=60     # seconds

# ==========================================
# File Upload Configuration
# ==========================================
MAX_FILE_SIZE=10485760       # 10MB in bytes
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx

# ==========================================
# Feature Flags
# ==========================================
ENABLE_SIGNUP=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_RATE_LIMITING=false
ENABLE_CACHE_DEBUG=false
ENABLE_METRICS=false
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=30000   # milliseconds
ENABLE_SWAGGER_UI=true
ENABLE_API_DOCS=true
ENABLE_DEBUG_ROUTES=false

# ==========================================
# External Services
# ==========================================
# Error Monitoring (Sentry)
SENTRY_DSN=

# Analytics (PostHog)
POSTHOG_API_KEY=

# ==========================================
# Monitoring & Logging
# ==========================================
LOG_LEVEL=info                # debug, info, warn, error

# ==========================================
# Performance Configuration
# ==========================================
ENABLE_COMPRESSION=false
COMPRESSION_THRESHOLD=1024    # bytes

# ==========================================
# SSL Configuration (Production)
# ==========================================
SSL_CERT_PATH=
SSL_KEY_PATH=
FORCE_HTTPS=false

# ==========================================
# Environment-Specific Notes:
# ==========================================
#
# DEVELOPMENT:
# - Uses local database and Redis
# - Debug logging enabled
# - Development tools enabled
# - Relaxed security settings
#
# PRODUCTION:
# - Requires strong secrets (32+ characters)
# - SSL/TLS enforcement recommended
# - Monitoring and metrics enabled
# - Development tools disabled
#
# TEST:
# - Separate test database
# - Fast crypto settings
# - Mock external services
# - Minimal logging
#
# STAGING:
# - Production-like settings
# - Debug features enabled
# - Performance monitoring
# - Test data seeding
#
# ==========================================
# Security Checklist for Production:
# ==========================================
# □ Set strong JWT_SECRET (32+ chars)
# □ Set strong SESSION_SECRET (32+ chars)
# □ Set strong BETTER_AUTH_SECRET (32+ chars)
# □ Configure production CORS_ORIGIN
# □ Set up SSL/TLS certificates
# □ Configure production database
# □ Set up Redis with authentication
# □ Configure error monitoring (Sentry)
# □ Set up production email service
# □ Enable rate limiting
# □ Configure backup strategy
# □ Set up monitoring and alerting
